{"version":3,"file":"static/js/608.cd8b76a2.chunk.js","mappings":"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","sources":["components/User/PaymentPage.js","components/Common/Card.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport Card from '../Common/Card';\r\nimport Button from '../Common/Button';\r\nimport Input from '../Common/Input';\r\n\r\nconst PaymentPage = ({ setPage, clearCart, cart, user, addOrder, discountCodes, applyDiscountCode }) => {\r\n  const [paymentMethod, setPaymentMethod] = useState('card');\r\n  const [message, setMessage] = useState('');\r\n  const [discountInput, setDiscountInput] = useState('');\r\n  const [appliedDiscount, setAppliedDiscount] = useState(null);\r\n  const [discountError, setDiscountError] = useState('');\r\n  const [cardDetails, setCardDetails] = useState({ name: '', number: '', expiry: '', cvc: '' });\r\n  const [errors, setErrors] = useState({});\r\n\r\n  const subtotal = cart.reduce((sum, item) => sum + item.price * item.quantity, 0);\r\n  const discountAmount = appliedDiscount ? (subtotal * appliedDiscount.discountPercentage) / 100 : 0;\r\n  const total = subtotal - discountAmount;\r\n\r\n  const validateCardDetails = () => {\r\n    if (paymentMethod !== 'card') return true;\r\n    const newErrors = {};\r\n    if (!cardDetails.name) newErrors.name = 'Name is required.';\r\n    if (!cardDetails.number || cardDetails.number.length < 16) newErrors.number = 'Valid card number is required.';\r\n    if (!cardDetails.expiry) newErrors.expiry = 'Expiry date is required.';\r\n    if (!cardDetails.cvc || cardDetails.cvc.length < 3) newErrors.cvc = 'CVC is required.';\r\n    setErrors(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  };\r\n\r\n  const handleApplyDiscount = () => {\r\n    const code = discountCodes.find(c => c.code.toLowerCase() === discountInput.toLowerCase());\r\n    if (code) {\r\n      if (code.usedCount < code.limit) {\r\n        setAppliedDiscount(code);\r\n        setDiscountError('');\r\n      } else {\r\n        setDiscountError('This discount code has expired.');\r\n        setAppliedDiscount(null);\r\n      }\r\n    } else {\r\n      setDiscountError('Invalid discount code.');\r\n      setAppliedDiscount(null);\r\n    }\r\n  };\r\n\r\n  const handlePlaceOrder = (e) => {\r\n    e.preventDefault();\r\n    if (!validateCardDetails()) return;\r\n\r\n    const newOrder = {\r\n      id: `ORD-${Date.now()}`, date: new Date().toISOString(), userId: user.id, userName: user.name,\r\n      items: cart.map(item => ({ id: item.id, name: item.name, price: item.price, quantity: item.quantity })),\r\n      totalAmount: total,\r\n      discountApplied: appliedDiscount ? appliedDiscount.code : null,\r\n    };\r\n    addOrder(newOrder);\r\n    if (appliedDiscount) {\r\n      applyDiscountCode(appliedDiscount.code);\r\n    }\r\n    setMessage('Payment successful! Thank you for your order.');\r\n    clearCart();\r\n    setTimeout(() => setPage('home'), 3000);\r\n  };\r\n\r\n  const handleCardInputChange = (e) => {\r\n    setCardDetails({ ...cardDetails, [e.target.id.replace('card', '').toLowerCase()]: e.target.value });\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center bg-slate-50\">\r\n      <div className=\"w-full max-w-lg\">\r\n        <h2 className=\"text-3xl font-bold text-center text-slate-800 mb-6\">Checkout</h2>\r\n        {message ? (\r\n          <Card><p className=\"bg-green-100 text-green-700 p-4 rounded-lg text-center font-medium\">{message}</p></Card>\r\n        ) : (\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8 items-start\">\r\n            <Card className=\"md:col-span-1\">\r\n              <h3 className=\"text-xl font-bold mb-4\">Payment Method</h3>\r\n              <div className=\"space-y-4\">\r\n                <label className={`flex items-center p-4 border rounded-lg cursor-pointer ${paymentMethod === 'card' ? 'border-green-500 ring-2 ring-green-500' : 'border-slate-300'}`}>\r\n                  <input type=\"radio\" name=\"paymentMethod\" value=\"card\" checked={paymentMethod === 'card'} onChange={() => setPaymentMethod('card')} className=\"form-radio text-green-600\" />\r\n                  <span className=\"ml-4 font-semibold\">Credit/Debit Card</span>\r\n                </label>\r\n                <label className={`flex items-center p-4 border rounded-lg cursor-pointer ${paymentMethod === 'cod' ? 'border-green-500 ring-2 ring-green-500' : 'border-slate-300'}`}>\r\n                  <input type=\"radio\" name=\"paymentMethod\" value=\"cod\" checked={paymentMethod === 'cod'} onChange={() => setPaymentMethod('cod')} className=\"form-radio text-green-600\" />\r\n                  <span className=\"ml-4 font-semibold\">Cash on Delivery</span>\r\n                </label>\r\n              </div>\r\n\r\n              {paymentMethod === 'card' && (\r\n                <form id=\"payment-form\" onSubmit={handlePlaceOrder} className=\"space-y-4 mt-6\">\r\n                  <Input id=\"cardName\" type=\"text\" label=\"Name on Card\" placeholder=\"John M. Doe\" value={cardDetails.name} onChange={handleCardInputChange} error={errors.name} />\r\n                  <Input id=\"cardNumber\" type=\"text\" label=\"Card Number\" placeholder=\"1111-2222-3333-4444\" value={cardDetails.number} onChange={handleCardInputChange} error={errors.number} />\r\n                  <div className=\"flex space-x-4\">\r\n                    <div className=\"w-1/2\"><Input id=\"expiry\" type=\"text\" label=\"Expiry Date\" placeholder=\"MM/YY\" value={cardDetails.expiry} onChange={handleCardInputChange} error={errors.expiry} /></div>\r\n                    <div className=\"w-1/2\"><Input id=\"cvc\" type=\"text\" label=\"CVC\" placeholder=\"123\" value={cardDetails.cvc} onChange={handleCardInputChange} error={errors.cvc} /></div>\r\n                  </div>\r\n                </form>\r\n              )}\r\n            </Card>\r\n            \r\n            <div className=\"space-y-6\">\r\n              <Card>\r\n                <h3 className=\"text-xl font-bold mb-4\">Discount Code</h3>\r\n                <div className=\"flex space-x-2\">\r\n                  <input type=\"text\" placeholder=\"Enter code\" value={discountInput} onChange={(e) => setDiscountInput(e.target.value)} className=\"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-green-500\"/>\r\n                  <Button onClick={handleApplyDiscount} className=\"w-auto px-6\">Apply</Button>\r\n                </div>\r\n                {discountError && <p className=\"text-red-500 text-sm mt-2\">{discountError}</p>}\r\n                {appliedDiscount && <p className=\"text-green-600 font-semibold text-sm mt-2\">\"{appliedDiscount.code}\" applied! You get {appliedDiscount.discountPercentage}% off.</p>}\r\n              </Card>\r\n\r\n              <Card>\r\n                <h3 className=\"text-xl font-bold mb-4\">Order Summary</h3>\r\n                <div className=\"space-y-2\">\r\n                  <div className=\"flex justify-between text-slate-600\"><span>Subtotal</span><span>₹{subtotal.toFixed(2)}</span></div>\r\n                  {appliedDiscount && (\r\n                    <div className=\"flex justify-between text-green-600\"><span>Discount ({appliedDiscount.discountPercentage}%)</span><span>- ₹{discountAmount.toFixed(2)}</span></div>\r\n                  )}\r\n                  <div className=\"flex justify-between font-bold text-lg text-slate-800 border-t pt-4 mt-2\"><span>Total</span><span>₹{total.toFixed(2)}</span></div>\r\n                </div>\r\n                <Button onClick={handlePlaceOrder} form={paymentMethod === 'card' ? 'payment-form' : ''} type={paymentMethod === 'card' ? 'submit' : 'button'} className=\"mt-6\">\r\n                  {paymentMethod === 'cod' ? 'Place Order' : 'Pay Now'}\r\n                </Button>\r\n              </Card>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PaymentPage;","import React from 'react';\r\n\r\nconst Card = ({ children, className = '' }) => (\r\n  <div className={`bg-white p-6 rounded-2xl shadow-sm ${className}`}>\r\n    {children}\r\n  </div>\r\n);\r\n\r\nexport default Card;"],"names":["_ref","setPage","clearCart","cart","user","addOrder","discountCodes","applyDiscountCode","paymentMethod","setPaymentMethod","useState","message","setMessage","discountInput","setDiscountInput","appliedDiscount","setAppliedDiscount","discountError","setDiscountError","cardDetails","setCardDetails","name","number","expiry","cvc","errors","setErrors","subtotal","reduce","sum","item","price","quantity","discountAmount","discountPercentage","total","handlePlaceOrder","e","preventDefault","validateCardDetails","newErrors","length","Object","keys","newOrder","id","concat","Date","now","date","toISOString","userId","userName","items","map","totalAmount","discountApplied","code","setTimeout","handleCardInputChange","_objectSpread","target","replace","toLowerCase","value","_jsx","className","children","_jsxs","Card","type","checked","onChange","onSubmit","Input","label","placeholder","error","Button","onClick","handleApplyDiscount","find","c","usedCount","limit","toFixed","form"],"sourceRoot":""}